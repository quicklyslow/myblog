---
layout: post
title: "11.11算了一天素数"
date: 2012-11-11 17:40
comments: true
categories: c++
---

本来这个特别的日子，应该是迎着明媚的阳光，和心仪的姑娘一起出去游玩的。可惜阳光虽然明媚，寒风却很凛冽，姑娘也不知道尚在何方。
还起了一个早，连个美梦都不让人连续。于是爬起来想到了昨天在[论坛]上看到的某个签名：群号是第4263116个素数。

说起来算素数，以前早就在Robert Sedgewick的经典算法书[《Algorithms in C》]算法C语言实现的第一本前几章就讲了的筛子法，书中是以数组的索引为例，
算起来是很不错的感觉，问题在于这数字一大，算个第四百多万的素数，还去用筛子来筛，实在是慢的不行，写完一个筛子之后，大概3秒
算出一个，这种速度，要算出来只怕要开好几天电脑了……于是改良了下，速度是快了一些，但是CPU占用率一高，我怕本子扛不住，于是又usleep
了一下，这下又得慢慢算了。

折腾了一天，其实大部分时间实在刷今天有什么可以买的，然后看了看MarkDown怎么才能把C++代码嵌入进来，语法高亮；本来是很简单的一件事情，
结果Google被0x12BigEndian和谐，搜索Bing硬是搜不出来办法，最后好歹在octopress的[官方文档]里找到了详细的解答，是不是因为太简单了，
所以大家都不说了呢，那好歹也给个RTFM。

总之对于这个寒冷的光棍节，也只有算算素数聊以自乐了。
[论坛]: http://bbs.saraba1st.com/2b
[《Algorithms in C》]:http://www.amazon.cn/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B8%9B%E4%B9%A6-%E7%AE%97%E6%B3%95-C%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%8E%92%E5%BA%8F%E5%8F%8A%E6%90%9C%E7%B4%A2-%E5%A1%9E%E5%A5%87%E5%A8%81%E5%85%8B/dp/B002T9VGK8/ref=sr_1_5?ie=UTF8&qid=1352635454&sr=8-5
[官方文档]:http://octopress.org/docs/blogging/code/


顺便附上修改后的代码，还是太慢太慢，且太丑，这可怎么办是好!
末了还找出两个bug……今天白算了，明天开着gdb来算-_-b
{% include_code prime.cpp lang:cpp %}
